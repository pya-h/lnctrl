(self.webpackChunklnctrl=self.webpackChunklnctrl||[]).push([[831],{18831:function(t,e,n){var o;o=function(t,e){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){"use strict";n.r(e);var o=n(1),r=n.n(o),a=n(0),i=n.n(a);function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e){return!e||"object"!==s(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}var f=function(t){function e(){return u(this,e),c(this,p(e).apply(this,arguments))}var n,o,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){var t=this,e=this.props,n=e.plusBtnContents,o=e.minusBtnContents,a=e.btnClass,i=e.plusBtnClass,s=e.minusBtnClass,u=e.controlsClass,l=e.scale,c=e.minScale,p=e.maxScale,h=e.onClickPlus,f=e.onClickMinus,d=e.disableZoom,v={width:30,paddingTop:5,marginBottom:5},m=u?void 0:{position:"absolute",right:10,top:10};function y(t){t.preventDefault(),t.target.blur(),d||h()}function b(t){t.preventDefault(),t.target.blur(),d||f()}return r.a.createElement("div",{style:m,className:u},r.a.createElement("div",null,r.a.createElement("button",{ref:function(e){t.plusNode=e},onClick:y,onTouchEnd:y,className:[a||"",i||""].join(" "),type:"button",style:a||i?void 0:v,disabled:d||l>=p},n)),r.a.createElement("div",null,r.a.createElement("button",{ref:function(e){t.minusNode=e},onClick:b,onTouchEnd:b,className:[a||"",s||""].join(" "),type:"button",style:a||s?void 0:v,disabled:d||l<=c},o)))}}])&&l(n.prototype,o),a&&l(n,a),e}(o.Component);f.propTypes={onClickPlus:i.a.func.isRequired,onClickMinus:i.a.func.isRequired,plusBtnContents:i.a.node,minusBtnContents:i.a.node,btnClass:i.a.string,plusBtnClass:i.a.string,minusBtnClass:i.a.string,controlsClass:i.a.string,scale:i.a.number,minScale:i.a.number,maxScale:i.a.number,disableZoom:i.a.bool},f.defaultProps={plusBtnContents:"+",minusBtnContents:"-",disableZoom:!1};var d=f;function v(t,e,n){return Math.max(t,Math.min(e,n))}function m(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function y(t){return{x:t.clientX,y:t.clientY}}function b(t,e){return function(t,e){var n=t.x-e.x,o=t.y-e.y;return Math.sqrt(Math.pow(n,2)+Math.pow(o,2))}(y(t),y(e))}var g=!1;try{var C={get passive(){g=!0}};window.addEventListener("test",C,C),window.removeEventListener("test",C,C)}catch(V){g=!1}var P=function(t){return g?{passive:t}:t};function w(t){return w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function S(){return S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},S.apply(this,arguments)}function x(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},a=Object.keys(t);for(o=0;o<a.length;o++)n=a[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){return!e||"object"!==w(e)&&"function"!==typeof e?E(t):e}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function j(t,e,n){return e&&B(t.prototype,e),n&&B(t,n),t}function D(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}function _(t,e){return _=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_(t,e)}var I=function(t,e){return e*t-t},L=i.a.shape({x:i.a.number,y:i.a.number}),R=function(t){function e(t){var n;return k(this,e),(n=O(this,T(e).call(this,t))).state={shouldPreventTouchEndDefault:!1},n.startPointerInfo=void 0,n.onMouseDown=n.onMouseDown.bind(E(n)),n.onTouchStart=n.onTouchStart.bind(E(n)),n.onMouseMove=n.onMouseMove.bind(E(n)),n.onTouchMove=n.onTouchMove.bind(E(n)),n.onMouseUp=n.onMouseUp.bind(E(n)),n.onTouchEnd=n.onTouchEnd.bind(E(n)),n.onWheel=n.onWheel.bind(E(n)),n}return D(e,t),j(e,null,[{key:"propTypes",get:function(){return{children:i.a.func,value:i.a.shape({scale:i.a.number.isRequired,translation:L.isRequired}).isRequired,onChange:i.a.func.isRequired,disableZoom:i.a.bool,disablePan:i.a.bool,translationBounds:i.a.shape({xMin:i.a.number,xMax:i.a.number,yMin:i.a.number,yMax:i.a.number}),minScale:i.a.number,maxScale:i.a.number,showControls:i.a.bool,plusBtnContents:i.a.node,minusBtnContents:i.a.node,btnClass:i.a.string,plusBtnClass:i.a.string,minusBtnClass:i.a.string,controlsClass:i.a.string}}},{key:"defaultProps",get:function(){return{minScale:.05,maxScale:3,showControls:!1,translationBounds:{},disableZoom:!1,disablePan:!1}}}]),j(e,[{key:"componentDidMount",value:function(){var t=P(!1);this.getContainerNode().addEventListener("wheel",this.onWheel,t),this.getContainerNode().addEventListener("touchstart",this.onTouchStart,t),this.getContainerNode().addEventListener("mousedown",this.onMouseDown,t),window.addEventListener("touchmove",this.onTouchMove,t),window.addEventListener("mousemove",this.onMouseMove,t);var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){M(t,e,n[e])}))}return t}({capture:!0},t);window.addEventListener("touchend",this.onTouchEnd,e),window.addEventListener("mouseup",this.onMouseUp,e)}},{key:"componentWillUnmount",value:function(){this.getContainerNode().removeEventListener("wheel",this.onWheel),this.getContainerNode().removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),this.getContainerNode().removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)}},{key:"onMouseDown",value:function(t){t.preventDefault(),this.setPointerState([t])}},{key:"onTouchStart",value:function(t){t.preventDefault(),this.setPointerState(t.touches)}},{key:"onMouseUp",value:function(t){this.setPointerState()}},{key:"onTouchEnd",value:function(t){this.setPointerState(t.touches)}},{key:"onMouseMove",value:function(t){this.startPointerInfo&&!this.props.disablePan&&(t.preventDefault(),this.onDrag(t))}},{key:"onTouchMove",value:function(t){if(this.startPointerInfo){t.preventDefault();var e=this.props,n=e.disablePan,o=e.disableZoom;2==t.touches.length&&this.startPointerInfo.pointers.length>1&&!o?this.scaleFromMultiTouch(t):1===t.touches.length&&this.startPointerInfo&&!n&&this.onDrag(t.touches[0])}}},{key:"onDrag",value:function(t){var e=this,n=this.startPointerInfo,o=n.translation,r=n.pointers[0],a=t.clientX-r.clientX,i=t.clientY-r.clientY,s={x:o.x+a,y:o.y+i},u=Math.abs(a)>1||Math.abs(i)>1;this.setState({shouldPreventTouchEndDefault:u},(function(){e.props.onChange({scale:e.props.value.scale,translation:e.clampTranslation(s)})}))}},{key:"onWheel",value:function(t){if(!this.props.disableZoom){t.preventDefault(),t.stopPropagation();var e=Math.pow(2,.002*t.deltaY),n=v(this.props.minScale,this.props.value.scale+(1-e),this.props.maxScale),o=this.clientPosToTranslatedPos({x:t.clientX,y:t.clientY});this.scaleFromPoint(n,o)}}},{key:"setPointerState",value:function(t){t&&0!==t.length?this.startPointerInfo={pointers:t,scale:this.props.value.scale,translation:this.props.value.translation}:this.startPointerInfo=void 0}},{key:"clampTranslation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,n=t.x,o=t.y,r=e.translationBounds,a=r.xMax,i=r.xMin,s=r.yMax,u=r.yMin;return u=void 0!=u?u:-1/0,s=void 0!=s?s:1/0,{x:v(i=void 0!=i?i:-1/0,n,a=void 0!=a?a:1/0),y:v(u,o,s)}}},{key:"translatedOrigin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.value.translation,e=this.getContainerBoundingClientRect();return{x:e.left+t.x,y:e.top+t.y}}},{key:"clientPosToTranslatedPos",value:function(t){var e=t.x,n=t.y,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.value.translation,r=this.translatedOrigin(o);return{x:e-r.x,y:n-r.y}}},{key:"scaleFromPoint",value:function(t,e){var n=this.props.value,o=n.translation,r=n.scale,a=t/(0!=r?r:1),i=I(e.x,a),s=I(e.y,a),u={x:o.x-i,y:o.y-s};this.props.onChange({scale:t,translation:this.clampTranslation(u)})}},{key:"scaleFromMultiTouch",value:function(t){var e=this.startPointerInfo.pointers,n=t.touches,o=b(e[0],e[1]),r=b(n[0],n[1])/o,a=this.startPointerInfo.scale,i=a+(r-1)*a,s=v(this.props.minScale,i,this.props.maxScale),u=m(y(e[0]),y(e[1])),l=m(y(n[0]),y(n[1])),c=l.x-u.x,p=l.y-u.y,h=s/a,f=this.clientPosToTranslatedPos(u,this.startPointerInfo.translation),d=I(f.x,h),g=I(f.y,h),C={x:this.startPointerInfo.translation.x-d+c,y:this.startPointerInfo.translation.y-g+p};this.props.onChange({scale:s,translation:this.clampTranslation(C)})}},{key:"discreteScaleStepSize",value:function(){var t=this.props,e=t.minScale,n=t.maxScale;return Math.abs(n-e)/10}},{key:"changeScale",value:function(t){var e=this.props.value.scale+t,n=this.props,o=v(n.minScale,e,n.maxScale),r=this.getContainerBoundingClientRect(),a=r.left+r.width/2,i=r.top+r.height/2,s=this.clientPosToTranslatedPos({x:a,y:i});this.scaleFromPoint(o,s)}},{key:"getContainerNode",value:function(){return this.containerNode}},{key:"getContainerBoundingClientRect",value:function(){return this.getContainerNode().getBoundingClientRect()}},{key:"renderControls",value:function(){var t=this,e=this.discreteScaleStepSize();return r.a.createElement(d,{onClickPlus:function(){return t.changeScale(e)},onClickMinus:function(){return t.changeScale(-e)},plusBtnContents:this.props.plusBtnContents,minusBtnContents:this.props.minusBtnContents,btnClass:this.props.btnClass,plusBtnClass:this.props.plusBtnClass,minusBtnClass:this.props.minusBtnClass,controlsClass:this.props.controlsClass,scale:this.props.value.scale,minScale:this.props.minScale,maxScale:this.props.maxScale,disableZoom:this.props.disableZoom})}},{key:"render",value:function(){var t=this,e=this.props,n=e.showControls,o=e.children,a=this.props.value.scale,i=this.clampTranslation(this.props.value.translation),s=function(e){t.state.shouldPreventTouchEndDefault&&(e.preventDefault(),t.setState({shouldPreventTouchEndDefault:!1}))};return r.a.createElement("div",{ref:function(e){t.containerNode=e},style:{height:"100%",width:"100%",position:"relative",touchAction:"none"},onClickCapture:s,onTouchEndCapture:s},o?o({translation:i,scale:a}):void 0,n?this.renderControls():void 0)}}]),e}(o.Component),N=function(t){function e(t){var n;k(this,e),n=O(this,T(e).call(this,t));var o=e.isControlled(t);return n.state=o?{lastKnownValueFromProps:t.value}:{value:t.defaultValue||{scale:1,translation:{x:0,y:0}},lastKnownValueFromProps:void 0},n}return D(e,t),j(e,null,[{key:"propTypes",get:function(){return{children:i.a.func,value:i.a.shape({scale:i.a.number.isRequired,translation:L.isRequired}),defaultValue:i.a.shape({scale:i.a.number.isRequired,translation:L.isRequired}),disableZoom:i.a.bool,disablePan:i.a.bool,onChange:i.a.func,translationBounds:i.a.shape({xMin:i.a.number,xMax:i.a.number,yMin:i.a.number,yMax:i.a.number}),minScale:i.a.number,maxScale:i.a.number,showControls:i.a.bool,plusBtnContents:i.a.node,minusBtnContents:i.a.node,btnClass:i.a.string,plusBtnClass:i.a.string,minusBtnClass:i.a.string,controlsClass:i.a.string}}}]),j(e,[{key:"innerProps",value:function(){var t=this.props,e=(t.value,t.defaultValue,t.onChange,x(t,["value","defaultValue","onChange"]));return e}},{key:"getValue",value:function(){return e.isControlled(this.props)?this.props.value:this.state.value}},{key:"render",value:function(){var t=this,n=this.props,o=n.onChange,a=n.children,i=e.isControlled(this.props),s=i?this.props.value:this.state.value;return r.a.createElement(R,S({onChange:function(e){i?o(e):t.setState({value:e})},value:s},this.innerProps()),a)}}],[{key:"getDerivedStateFromProps",value:function(t,n){var o=e.isControlled(t),r=n.lastKnownValueFromProps&&e.isControlled({value:n.lastKnownValueFromProps});return!r&&o?{value:void 0,lastKnownValueFromProps:t.value}:r&&!o?{value:n.lastKnownValueFromProps,lastKnownValueFromProps:void 0}:r&&o?{lastKnownValueFromProps:t.value}:r||o?void 0:null}},{key:"isControlled",value:function(t){return void 0!=t.value}}]),e}(o.Component),F=function(t){return r.a.createElement(N,t,(function(e){var n=e.translation,o=e.scale,a="translate(".concat(n.x,"px, ").concat(n.y,"px) scale(").concat(o,")");return r.a.createElement("div",{style:{height:"100%",width:"100%",position:"relative",overflow:"hidden",touchAction:"none",msTouchAction:"none",cursor:"all-scroll",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"}},r.a.createElement("div",{style:{display:"inline-block",transform:a,transformOrigin:"0 0 "}},t.children))}))};n.d(e,"MapInteractionCSS",(function(){return F})),n.d(e,"MapInteraction",(function(){return N})),e.default=N}])},t.exports=o(n(52007),n(72791))}}]);
//# sourceMappingURL=831.f4351556.chunk.js.map