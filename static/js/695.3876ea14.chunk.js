"use strict";(self.webpackChunklnctrl=self.webpackChunklnctrl||[]).push([[695],{5540:function(t,n,e){e.d(n,{Z:function(){return f}});var r=e(1413),o=e(43144),i=e(15671),a=e(60136),u=e(43668),s=e(75758),l=e(381),c=e(19596),f=function(t){(0,a.Z)(e,t);var n=(0,u.Z)(e);function e(t,o){var a,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"t",f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,i.Z)(this,e),(a=n.call(this,t,(0,r.Z)({symbol:u,type:"exp",b:o},f))).copy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new e(a.a,a.b,a.symbol,{dot:a.dot,plus:a.plus,previous:t?a.previous:null,input:a.input})},a.hardcopy=function(){return new e(a.a,a.b,a.symbol,{dot:a.dot,input:a.input})},a.toSin=function(){var t=a.copy();if("exp"===t.type&&t.b instanceof l.Z&&t.b.isComplex()&&t.b instanceof l.Z){if(0===t.b.real()||"0"===t.b.toString()){var n=t.b.imaginary(),r=new c.mc(t.a,n),o=n>=0?new c.RQ(t.a,n):new c.RQ(t.a instanceof s.Z?t.a.negation():-t.a,-n);return new l.Z(r,o)}return new e(new e(t.a,l.Z.jX(t.b.imaginary()),t.symbol).toSin(),t.b.real(),t.symbol)}return t},a.amplitude=function(t){},a.phase=function(t){var n=l.Z.jX(t),e=+a.b;return a.b===e?e*t:a.b instanceof s.Z?(e=a.b.$(n),n.multiply(e).imaginary()):void 0},a.decomposition=function(){return a.b instanceof l.Z?new e(new e(a.a,l.Z.jX(a.b.imaginary()),a.symbol),a.b.real(),a.symbol):a.copy()},a.valueAt=function(t){var n=+t;if(n===t){var r=s.Z.valueOf(a.a,n),o=s.Z.valueOf(a.b,n);return r*Math.exp(o*n)}if(t instanceof l.Z)return t.real()?t.imaginary()?new e(a.a,a.b,a.symbol).valueAt(t.real())*new e(1,l.Z.jX(a.b*t.imaginary()),a.symbol).toSin():a.valueAt(t.real()):new e(a.a,l.Z.jX(a.b*t.imaginary()),a.symbol).toSin()},a.toAlgebra=function(){return new s.Z(a.a,{type:"exp",symbol:a.symbol,b:a.b,dot:a.dot,plus:a.plus,previous:a.previous,input:a.input})},a}return(0,o.Z)(e)}(s.Z);f.ConvertToMe=function(t){return new f(t.getA(),t.getB()?t.getB():0,t.symbol,{dot:f.dot,plus:f.plus,previous:f.previous,input:f.input})}},29695:function(t,n,e){e.d(n,{Z:function(){return p}});var r=e(1413),o=e(43144),i=e(15671),a=e(60136),u=e(43668),s=e(75758),l=e(381),c=e(79959),f=e(96758),p=function(t){(0,a.Z)(e,t);var n=(0,u.Z)(e);function e(t){var o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1],u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"t",p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,i.Z)(this,e),t instanceof s.Z||(t instanceof Array?0===t.length&&(t=[0]):t=[t]),a instanceof s.Z||(a instanceof Array?0===a.length&&(a=[1]):a=[a]),(o=n.call(this,t,(0,r.Z)({symbol:u,type:"frac",b:a instanceof Array?a.map((function(t){return t instanceof l.Z?t.actual():t})):a},p))).copy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new e(o.a,o.b,o.symbol,{dot:o.dot,plus:o.plus,previous:t?o.previous:null,input:o.input})},o.hardcopy=function(){return new e(o.a,o.b,o.symbol,{dot:o.dot,input:o.input})},o.lim=function(){},o.numerator=function(){return o.a instanceof s.Z?o.a.copy(!0):new c.Z(o.a,o.symbol)},o.denominator=function(){return o.b instanceof s.Z?o.b.copy(!0):new c.Z(o.b,o.symbol)},o.setNumerator=function(t){return t instanceof s.Z||(t instanceof Array?0===t.length&&(t=[0]):t=[t]),o.setA(t)},o.setDenominator=function(t){return t instanceof s.Z||(t instanceof Array?0===t.length&&(t=[1]):t=[t]),o.setB(t)},o.valueAt=function(t){var n=o.numerator().$(t),e=o.denominator().$(t);return n instanceof s.Z?n.devide(e):e instanceof s.Z?e.devideInverse(n):e?n/e:void 0},o.multiply=function(t){var n=o.copy(!0);if(t instanceof e){var r=o.numerator().multiply(t.numerator()),i=o.denominator().multiply(t.denominator());n=r.devide(i)}else{n=o.numerator().multiply(t).devide(o.denominator())}return o.plus&&(n.plus=o.plus.multiply(t)),n},o.toFormula=function(){return"("+o.numerator().toFormula()+")/("+o.denominator().toFormula()+")"},o.isIntegrator=function(){return o.toTransferFunction().isIntegrator()},o.add2gether=function(t){},o.toAlgebra=function(){return new s.Z(o.a,{type:"frac",symbol:o.symbol,b:o.b,dot:o.dot,plus:o.plus,previous:o.previous,input:o.input})},o.toTransferFunction=function(){return new f.Z(o.getA(),o.getB())},o}return(0,o.Z)(e)}(s.Z);p.ConvertToMe=function(t){return new p(t.getA(),t.getB()?t.getB():[1],t.symbol,{dot:p.dot,plus:p.plus,previous:p.previous,input:p.input})}},79959:function(t,n,e){e.d(n,{Z:function(){return p}});var r=e(42982),o=e(1413),i=e(43144),a=e(15671),u=e(60136),s=e(43668),l=e(75758),c=e(381),f=e(29695),p=function(t){(0,u.Z)(e,t);var n=(0,s.Z)(e);function e(t){var i,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"t",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,a.Z)(this,e),"number"===typeof t&&(t=[t]),(i=n.call(this,t,(0,o.Z)({symbol:u,type:"poly"},s))).copy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new e(i.a,i.symbol,{dot:i.dot,plus:i.plus,previous:t?i.previous:null,input:i.input})},i.hardcopy=function(){return new e(i.a,i.symbol,{dot:i.dot,input:i.input})},i.degree=function(){return i.a.length-1},i.valueAt=function(t){if("number"===typeof t)return l.Z.polynomialValueAt(i.a,t);if(t instanceof c.Z){var n=i.a.length-1;if(n>=0){for(var e=1,r=i.a[n]instanceof c.Z?i.a[n].copy():new c.Z(i.a[n],0),o=n-1;o>=0;o--)e=t.multiply(e),r=r.add(e.multiply(i.a[o]));return r}return 0}return NaN},i.derivative=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.symbol,n=i.copy(!0);if(t===i.symbol){if(!n.dot){for(var e=n.a.length-1,o=Array(e).fill(0),a=e;a>=1;a--)o[e-a]=a*n.a[e-a];n.a=(0,r.Z)(o)}n.plus&&(n.plus=n.plus.derivative())}return n},i.expression=function(){if(i.a instanceof Array){var t=i.a.length-1;return t&&i.a.slice(0,t).filter((function(t){return"0"!==t.toString()})).length?i.a.map((function(n,e){return n?l.Z.coefy(n,e,t)+(e<t?i.symbol+(e<t-1?"^"+(t-e).toString():""):""):""})).join(""):i.a[t].toString()}return i.a.toString()},i.toFormula=function(){if(i.a instanceof Array){var t=i.a.length-1;return t&&i.a.slice(0,t).filter((function(t){return"0"!==t.toString()})).length?i.a.map((function(n,e){return n?l.Z.coefy(n,e,t)+(e<t?i.symbol+(e<t-1?"^"+(t-e).toString():""):""):""})).join(""):i.a[t].toString()}return i.a.toString()},i.mostSignificantCoefficient=function(){var t=i.a.filter((function(t){return 0!==t}))[0];return t instanceof c.Z&&t.isUnit()?1:t},i.devide=function(t){return t instanceof e&&i.symbol===t.symbol?new f.Z(i.getA(),t.getA(),i.symbol):t===+t?i.multiply(1/+t):t instanceof l.Z?new f.Z(i.getA(),t,i.symbol):i.toAlgebra().devide(t)},i.toAlgebra=function(){return new l.Z(i.a,{type:"poly",symbol:i.symbol,dot:i.dot,plus:i.plus,previous:i.previous,input:i.input})},i}return(0,i.Z)(e)}(l.Z);p.atn=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"t",r=Array(n+1).fill(0);return r[0]=t,new p(r,e)},p.Symbolic=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"t",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"a",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=o?"":"$$";if("n"===t){i+="".concat(r,"_n ").concat(n,"^n + ");for(var a=1;a<e;a++)i+="".concat(r,"_{n - ").concat(a,"}").concat(n,"^{n - ").concat(a,"} + ");i+=" ... ";for(var u=e-1;u>0;u--)i+=" + ".concat(r,"_{").concat(u,"}").concat(n,"^{").concat(u,"}");i+=" + ".concat(r,"_0")}else if("number"===typeof t)for(;t>=0;t--)i+="".concat(r,"_{").concat(t,"}"),t>0&&(i+="".concat(n,"^{").concat(t,"} + "));return i+(o?"":" $$")}},96758:function(t,n,e){e.d(n,{Z:function(){return N}});var r=e(15861),o=e(42982),i=e(70885),a=e(43144),u=e(15671),s=e(97326),l=e(60136),c=e(43668),f=e(87757),p=e.n(f),v=e(75758),d=e(381),h=e(5540),m=e(29695),g=e(82842),Z=e(79959),y=function(t){(0,l.Z)(e,t);var n=(0,c.Z)(e);function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"t";return(0,u.Z)(this,e),(t=n.call(this,r,"u",o)).copy=function(){return new e(t.amp,t.symbol)},t.$=function(n){return(n>=0)*t.amp},t}return(0,a.Z)(e)}(g.Z),b=e(19596),w=e(30830),M=e(66316),A=(0,a.Z)((function t(n){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";if((0,u.Z)(this,t),this.solve=function(){var t=M.nroots(e.expression).toString().replaceAll("...","");return(t=(t=t.slice(1,t.length-1)).split(",").filter((function(t){return t&&""!==t}))).map((function(t,n){for(var e=1;e<t.length&&("+"!==t[e]&&"-"!==t[e]||!(0,w.X1)(t[e-1])||!(0,w.X1)(t[e+1]));e++);var r=[];if(r.push(t.slice(0,e)),e<t.length&&r.push(t.slice(e,t.length-2)),1===r.length){var o=r[0].replace("*i","");return o===r[0]?new d.Z(Number(o)):d.Z.jX(Number(o))}return new d.Z(Number(r[0]),Number(r[1]))}))},this.approximate=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.Methods.newton,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=[],a=function(t){return!isNaN(t)&&-1===i.findIndex((function(n){return n instanceof d.Z?n.equals(t):n===t}))},u=function(t){return t instanceof d.Z&&-1===i.findIndex((function(n){return t.equals(n)}))};if(e.expression instanceof v.Z){for(var s=0,l=e.expression.a.length-1;l>=0;l--)if(e.expression.a[l]){s=e.expression.a[l];break}var c=e.expression.a[0];s&&0!==c&&(o=Math.abs(s/c));for(var f=-o;f<=o;f++){var p=n(e.algebra,f,r);if(!isNaN(p)){var h=(0,w.NM)(p);a(h)&&i.push(h)}u(p=n(e.algebra,d.Z.jX(f),r))&&i.push(p)}}return i},this.durandKerner=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;if(e.algebra instanceof v.Z){var n,r=e.algebra.$,o=e.algebra.degree();do{n=new d.Z(Math.random(),Math.random())}while(n.isReal());var i=Array(o).fill(0).map((function(t){return[]}));i[0].push(new d.Z(1,0));for(var a=1;a<o;a++)i[a][0]=n.multiply(i[a-1][0]);for(var u=0;u<t;u++)for(var s=0;s<o;s++){for(var l=i[s][u].copy(),c=new d.Z(1,0),f=0;f<o;f++)if(s!==f){var p=i[f][i[f].length-1];c=c.multiply(l.substract(p))}var h=r(l).devide(c);i[s].push(l.substract(h))}return i.map((function(t){return t[t.length-1]}))}},n instanceof Array){this.algebra=new Z.Z(n),this.symbol=r,this.expression="";var o=n.length-1;this.degree=o;for(var i=0;i<n.length;this.expression+=t.GetAlgebriteTerm(o-i,n[i],i,r),i++);}else if("string"===typeof n)this.expression=n,this.algebra=null,this.symbol=r;else if(n instanceof Z.Z){this.expression="",this.algebra=n.copy(),this.symbol=this.exp.symbol;var a=this.getA(),s=a.length-1;this.degree=s;for(var l=0;l<a.length;this.expression+=t.GetAlgebriteTerm(s-l,a[l],l,r),l++);}else n instanceof v.Z&&(this.expression=n.toString(),this.algebra=n.copy(),this.symbol=this.exp.symbol,this.degree=void 0);this.symbol=r}));A.zeroPrecision=(0,w.NM)(Math.pow(10,-w.ch.get())),A.GetAlgebriteTerm=function(t,n,e,r){if(n===+n){var o=0|n,i=t>0?"*".concat(r,"^").concat(t):"";return o!==n?(M.run("a".concat(e," = ").concat(n)),(n>=0?"+":"")+"a".concat(e).concat(i)):(o>=0?"+":"")+"".concat(o).concat(i)}return"".concat(n).concat(r,"^").concat(t)},A.Methods={newton:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=t.$,o=t.derivative().$,i=Array(e+1).fill(0),a=o(n);if(a&&(!(a instanceof d.Z)||!a.isZero())){if(n instanceof d.Z){i[0]=n;for(var u=0;u<e;u++)i[u+1]=i[u].substract(r(i[u]).devide(o(i[u])));var s=r(i[e]);if(Math.abs(s.real())>A.zeroPrecision||Math.abs(s.imaginary())>A.zeroPrecision)return NaN}else{i[0]=n;for(var l=0;l<e;l++)i[l+1]=i[l]-r(i[l])/o(i[l]);if(r(i[e])>A.zeroPrecision)return NaN}return i[i.length-1]}return NaN},middlePoint:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;n=Math.abs(n);for(var e=A.zeroPrecision,r=[],o=0,i=1,a=0;a<n;a++){for(var u=((i=n-a)-(o=-n+a))/(2*Math.max(Math.abs(o),Math.abs(i))),s=null;u>=e&&t(s=(o+i)/2);)t(s)*t(o)<0?i=s:u=(i-(o=s))/(2*Math.max(Math.abs(o),Math.abs(i)));t(s)||r.push((0,w.NM)(s))}return new Set(r)}};var x=e(5913),S=e(37762),_=e(1413),z=e(62005),$=(0,a.Z)((function t(n){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,u.Z)(this,t),this.df=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.symbol,r=z.diff(e.f,n);return new t(r.toString(),e.symbol,r)},this.iL=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"t",r=z("ilt(".concat(e.f,", ").concat(e.symbol,", ").concat(n,")"));return new t(r.toString(),n,r)},this.L=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"s",r=z("laplace(".concat(e.f,", ").concat(e.symbol,", ").concat(n,")"));return new t(r.toString(),n,r)},this.$=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=[];return n[e.symbol]=t,t?z(e.f,(0,_.Z)({},n)).evaluate().toDecimal():z(e.f).toDecimal()},this.x=function(){return z(e.f).solveFor(e.symbol).map((function(t){return(t.toString().includes("sqrt")?t.evaluate():t).toDecimal()})).map((function(t,n){for(var e=1;e<t.length&&("+"!==t[e]&&"-"!==t[e]||!(0,w.X1)(t[e-1])&&"i"!==t[e-1]||!(0,w.X1)(t[e+1])&&"i"!==t[e+1]);e++);var r=[];if(r.push(t.slice(0,e)),e<t.length&&r.push(t.slice(e,t.length)),1===r.length){var o=r[0].replace("*i","").replace("i","1");return o===r[0]?new d.Z(+o):d.Z.jX(+o)}var i=r[1].replace("*i","").replace("i","1");return i!==r[1]?new d.Z(+r[0],+i):(i=r[0].replace("*i","").replace("i","1"),new d.Z(+r[1],+i))}))},this.toString=function(){return z(e.f).toTeX()},this.toAlgebra=function(){if(e.expressions instanceof v.Z)return e.expressions.copy()},n instanceof v.Z?(this.f=n.toFormula(),this.symbol=n.symbol):"string"===typeof n&&(this.f=n,this.symbol=r),this.expressions=o||z(this.f)}));$.GetTerm=function(t,n,e){if(n===+n){var r=t>0?"*".concat(e,"^").concat(t):"";return(n>=0?"+":"")+"".concat(n).concat(r)}return"".concat(n).concat(e,"^").concat(t)},$.RepetitiveFactors=function(t,n,e){var r,o=[],i=(0,S.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value,u=[];u[e]=a.toString(!1,!0).replace("j","i*");for(var s=0,l=t;!+z(l,(0,_.Z)({},u)).toDecimal();o.push(a.copy()),l=z.diff(l),s++);a.isZero()&&(t=z("".concat(t.toString()," / (").concat(e,"^").concat(s,")")))}}catch(c){i.e(c)}finally{i.f()}return o};var j=function(t){(0,l.Z)(e,t);var n=(0,c.Z)(e);function e(t){var r;return(0,u.Z)(this,e),(r=n.call(this,0,{symbol:null,type:"poly"})).degree=function(){return 0},r.valueAt=function(t){return 0},r.toString=function(){var t="0";return r.plus&&(t=r.plus.toString()),t},r.devide=function(t){return new e},r.add=function(t){return t.hardcopy().linkPlus(r.plus)},r.multiply=function(t){return new e},r.replace=function(t){r.a=t.getA(),r.b=t.getB(),r.teta=t.getTeta(),r.symbol=t.getSymbol(),r.type=t.getType(),r.dot=t.dot.copy()},r}return(0,a.Z)(e)}(v.Z),N=function(t){(0,l.Z)(e,t);var n=(0,c.Z)(e);function e(t,a){var l,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,u.Z)(this,e);var f=[],m=[];if(c){if(c.overshoot&&c.t_rise){c.overshoot=Number(c.overshoot),c.t_rise=Number(c.t_rise);var g=Math.log10(c.overshoot);c.zeta=-g/Math.pow(Math.PI*Math.PI+g*g,.5),c.w_d=Math.PI/c.t_rise,c.w_n=c.w_d/Math.pow(1-c.zeta*c.zeta,.5)}if(c.w_n){c.w_n=Number(c.w_n),c.zeta=Number(c.zeta);var M=c.w_n,S=c.zeta,_=M*M;t=_,a=[1,2*S*M,_],m=e.OmegaZetaPoles(M,S),f=[]}}if((l=n.call(this,t,a,"s",c)).parentMultiply=function(t){return e.ConvertToMe(l.toAlgebra().multiply(t))},l.getSimplifiedRoots=function(){for(var t=l.copy(),n=function(n){t.zeros[n]=t.zeros[n]instanceof d.Z?t.zeros[n]:new d.Z(t.zeros[n],0);var e=t.poles.findIndex((function(e){return t.zeros[n].equals(e)}));-1!==e&&(t.zeros[n]=null,t.poles[e]=null)},e=0;e<t.zeros.length;e++)n(e);return[t.zeros.filter((function(t){return t})),t.poles.filter((function(t){return t}))]},l.getSimplifiedOrderedRoots=function(){for(var t=l.copy(),n=function(n){var e=t.orderedPoles.findIndex((function(e){return e.value.equals(t.orderedZeros[n].value)}));if(-1!==e){var r=(0,w.VV)(t.orderedZeros[n].order,e.order);t.orderedZeros[n].order-=r,t.orderedPoles[e].order-=r}},e=0;e<t.orderedZeros.length;e++)n(e);return[t.orderedZeros.filter((function(t){return t.order})),t.orderedPoles.filter((function(t){return t.order}))]},l.roots=function(){var t=[],n=[];return l.a instanceof Array&&l.b instanceof Array&&!l.a.find((function(t){return t!==+t}))&&!l.b.find((function(t){return t!==+t}))&&(t=l.a.length>1?new $(l.numerator().toFormula(),l.symbol).x():[],n=l.b.length>1?new $(l.denominator().toFormula(),l.symbol).x():[],t.length<l.a.length-1&&(t=$.RepetitiveFactors(l.numerator().toFormula(),t,l.symbol)),n.length<l.b.length-1&&(n=$.RepetitiveFactors(l.denominator().toFormula(),n,l.symbol))),[t,n]},l.setRoots=function(t,n){return l.poles=n.map((function(t){return t instanceof d.Z?t.copy():new d.Z(t,0)})).sort((function(t,n){return t.real()-n.real()})),l.zeros=t.map((function(t){return t instanceof d.Z?t.copy():new d.Z(t,0)})).sort((function(t,n){return t.real()-n.real()})),l.orderedZeros=e.RootOrders(l.zeros),l.orderedPoles=e.RootOrders(l.poles),(0,s.Z)(l)},l.updateRoots=function(){var t=l.roots(),n=(0,i.Z)(t,2),e=n[0],r=n[1];return console.log("simplified roots ",e.map((function(t){return t.toString()})),r.map((function(t){return t.toString()}))),l.setRoots(e,r)},l.getDampingSystemCharasteristics=function(){return l.w_d?{t_rise:(0,w.NM)(Math.PI/l.w_d),overshoot:l.zeta>=-1&&l.zeta<=1?(0,w.NM)(100*Math.exp(-l.zeta*Math.PI/Math.pow(1-Math.pow(l.zeta,2),.5))):null}:null},l.getOrder=function(){return l.order},l.setOrder=function(t){return l.order=t,(0,s.Z)(l)},l.getPoles=function(){return l.poles},l.setPoles=function(t){return l.poles=e.map((function(t){return t instanceof d.Z?t.copy():new d.Z(t,0)})),(0,s.Z)(l)},l.getZeros=function(){return l.zeros},l.setZeros=function(t){return l.zeros=t.map((function(t){return t instanceof d.Z?t.copy():new d.Z(t,0)})),(0,s.Z)(l)},l.poleOrder=function(t){return l.poles.filter((function(n){return v.Z.areTheseTwoEqual(t,n)})).length},l.derivative=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.symbol,n=l.copy(!0);if(t===l.symbol){var e=n.plus;if(!n.dot)if(n.isIntegrator()){"number"===typeof n.a&&(n.a=[n.a]);var r=l.b.length-1;n.a*=-r,n.b.push(0)}else{var o=n.numerator(),i=n.denominator(),a=o.derivative().multiply(i).substract(i.derivative().multiply(o));n=a.devide(i.multiply(i)).toTransferFunction()}e&&(n.plus=e.derivative())}return n},l.laplace=function(){return l.copy(!0)},l.laplaceInverse=function(){console.log("simplified roots ",l.zeros.map((function(t){return t.toString()})),l.poles.map((function(t){return t.toString()}))),l.updateRoots();var t=l.simplify();if(t.isIntegrator()){var n=t.b.filter((function(t){return 0!==t}))[0];return{$s:t.copy(),$t:Z.Z.atn((t.a instanceof Array?t.a[0]:t.a)/n,t.denominator().degree()-1).setInputSignal(new y)}}for(var r=[],i=t.orderedZeros,a=t.orderedPoles,u=0;u<a.length;u++){var s=a[u].value,c=(0,o.Z)(a);c.splice(u,1);var f=i.length>0?d.Z.MultiplyFactors(i,s,t.numerator().mostSignificantCoefficient()):new d.Z(t.numerator().mostSignificantCoefficient(),0),p=d.Z.MultiplyFactors(c,s,t.denominator().mostSignificantCoefficient());if(r.push(f.devide(p)),a[u].order>1){r[u]=[r[u]];for(var v=e.Shortcuts.$Roots(i.map((function(t){return t.value})),c.map((function(t){return t.value}))),m=1,g=1;g<a[u].order;g++){var b=(v=v.derivative()).$(s);b=b instanceof d.Z?b:new d.Z(b,0),m*=g,r[u].push(b.devide(m))}}}for(var w=new j,M=new j,A=0;A<r.length;A++)if(r[A]instanceof Array&&a[A].order>1)for(var x=a[A].order,S=0;S<x;S++){w=w.add(e.Shortcuts.$DelayedIntegrator(r[A][S].actual(),a[A].value.negation().actual(),x-S));var _=Z.Z.atn(r[A][S].actual(),a[A].order-S-1);M=a[A].value.isZero()?M.add(_).multiply(new y):M.add(new h.Z(_,a[A].value.actual(),"t",{input:new y}))}else w=w.add(new e(r[A].actual(),[1,a[A].value.negation().actual()])),M=M.add(a[A].value.isZero()?new Z.Z(r[A].actual(),"t",{input:new y}):new h.Z(r[A].actual(),a[A].value.actual(),"t",{input:new y}).toSin());return{$s:w,$t:M.simplify()}},l.stepify=function(){var t=l.copy();return t.b.push(0),t.poles.push(d.Z.jX(0)),t},l.step=function(){var t=l.zeros.length,n=l.poles.length,e=l.poles.filter((function(t){return!(t instanceof d.Z)||t.isReal()})).length;if(0===t){var r=l.numerator();if(1===n);else if(2===n){var o=-l.poles[0],i=-l.poles[1];if(2===e){if(o!==i)return new h.Z(1/o,-o).add(new h.Z(-1/i,-i)).multiply(r/(o-i)).multiply(new y).add(new y(r/(o*i)));var a=o*o;return new h.Z(-r/a,-o).multiply(new Z.Z([o,1])).multiply(new y).add(new y(r/a))}if(0===e){var u=-l.poles[0].real(),s=l.poles[0].imaginary(),c=r/(Math.pow(u,2)+Math.pow(s,2));return new h.Z(-c,-u).multiply(new b.mc(1,s)).add(new h.Z(-c,-u).multiply(new b.RQ(u/s,s))).multiply(new y).add(new y(c))}}}return new $(l.stepify().toFormula(),l.symbol).iL()},l.copy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new e(l.a,l.b,{overshoot:l.overshoot,t_rise:l.t_rise,t_settle:l.t_settle,w_d:l.w_d,timeConstant:l.timeConstant,w_n:l.w_n,zeta:l.zeta,dot:l.dot,plus:l.plus,previous:t?l.previous:null,input:l.input}).setRoots(l.zeros,l.poles)},l.hardcopy=function(){return new e(l.a,l.b,{dot:l.dot,input:l.input})},l.lim=function(t){var n,e;if(!t){for(n={a:0,sp:l.a.length-1},e={b:1,sp:l.b.length-1};n.sp>0&&0===l.a[n.sp];n.sp--);for(n.a=l.a[n.sp];e.sp>0&&0===l.b[e.sp];e.sp--);if(e.b=l.b[e.sp],n.sp=l.a.length-n.sp-1,e.sp=l.b.length-e.sp-1,n.sp===e.sp)return n.a/e.b;var r=Math.min(e.sp,n.sp);return r&&(n.sp-=r,e.sp-=r),e.sp?1/0:0}if(t===1/0){for(n={a:0,sp:0},e={b:1,sp:0};n.sp<l.a.length&&0===l.a[n.sp];n.sp++);for(n.a=l.a[n.sp];e.sp<l.b.length&&0===l.b[e.sp];e.sp++);if(e.b=l.b[e.sp],n.sp=l.a.length-n.sp-1,e.sp=l.b.length-e.sp-1,n.sp===e.sp)return n.a/e.b;var o=Math.min(e.sp,n.sp);return o&&(n.sp-=o,e.sp-=o),e.sp?0:1/0}if(n=l.numerator().$(t),e=l.denominator().$(t))return n/e},l.errors=function(){var t=l.multiply(new Z.Z([1,0],"s")),n=t.multiply(new Z.Z([1,0],"s"));return{Ks:(0,w.NM)(l.lim(0)),Kr:(0,w.NM)(t.lim(0)),Ka:(0,w.NM)(n.lim(0))}},l.amplitude=function(t){var n=d.Z.jX(t),e=l.numerator(),r=l.denominator();return(e instanceof h.Z?Math.abs(e.getA()):e.$(n).magnitude())/(r instanceof h.Z?Math.abs(r.getB()):r.$(n).magnitude())},l.phase=function(t){var n=d.Z.jX(t),e=l.numerator(),r=l.denominator(),o=e instanceof h.Z?e.phase(t):e.$(n).phase(),i=r instanceof h.Z?r.phase(t):r.$(n).phase();return+i===i&&+o===o?o-i:(o instanceof Function?o(t):o)-(i instanceof Function?i(t):i)},l.nyquist=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"complex";return"complex"===n?l.$(d.Z.jX(t)):e.PolarToComplex(l.amplitude(t),l.phase(t))},l.bode=function(t){return 20*Math.log10(l.amplitude(t))},l.toFormula=function(){var t=l.zeros.length>0?l.zeros.map((function(t){return"("+l.symbol+" - "+t.toString(!1,!0).replace("j","i*")+")"})).join("*"):"1",n=l.poles.length>0?l.poles.map((function(t){return"("+l.symbol+" - "+t.toString(!1,!0).replace("j","i*")+")"})).join("*"):"1";return"(".concat(t,")/(").concat(n,")")},l.rootLocus=function(){var t=(0,r.Z)(p().mark((function t(n,e,r){var o,i,a,u,s,c,f,v,h,m,g,Z,y,b,w,M,A,S,_,z,j,N,R,X,T=arguments;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=T.length>3&&void 0!==T[3]?T[3]:1e3,i=(e-n)/o,a=l.getA(),u=l.getB(),s=a.length-1,c=u.length-1,f=[],v=[],h=e-n,m=$.GetTerm,g=n,Z=0;case 8:if(!(g<=e)){t.next=18;break}if(y=null,b="",s<=c){for(y=Array(c),w=c-s,M=0;M<w;y[M]=u[M],b+=m(c-M,y[M],l.symbol),M++);for(A=0,S=w;A<=s;y[S]=u[S]+g*a[A],b+=m(s-A,y[S],l.symbol),A++,S++);}else{for(y=Array(s),_=s-c,z=0;z<_;y[z]=u[z],b+=m(s-z,y[z],l.symbol),z++);for(j=0,N=_;j<=c;y[N]=u[N]+g*a[j],b+=m(c-j,y[N],l.symbol),j++,N++);}return R=new $(b,l.symbol).x(),t.next=14,(0,x.tV)(r,100*Z/h);case 14:for(X=0;X<R.length;X++)R[X]instanceof d.Z?(f.push(R[X].real()),v.push(R[X].imaginary())):(f.push(R[X]),v.push(0));case 15:g+=i,Z+=i,t.next=8;break;case 18:return t.next=20,(0,x.tV)(r,100);case 20:return t.abrupt("return",[f,v]);case 21:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}(),l.rootsByAlgebriteLocus=function(){var t=(0,r.Z)(p().mark((function t(n,e,r){var o,i,a,u,s,c,f,v,h,m,g,Z,y,b,w,M,S,_,z,$,j,N,R,X,T=arguments;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=T.length>3&&void 0!==T[3]?T[3]:1e3,i=(e-n)/o,a=l.getA(),u=l.getB(),s=a.length-1,c=u.length-1,f=[],v=[],h=e-n,m=A.GetAlgebriteTerm,g=n,Z=0;case 8:if(!(g<=e)){t.next=18;break}if(y=null,b="",s<=c){for(y=Array(c),w=c-s,M=0;M<w;y[M]=u[M],b+=m(c-M,y[M],M,l.symbol),M++);for(S=0,_=w;S<=s;y[_]=u[_]+g*a[S],b+=m(s-S,y[_],_,l.symbol),S++,_++);}else{for(y=Array(s),z=s-c,$=0;$<z;y[$]=u[$],b+=m(s-$,y[$],$,l.symbol),$++);for(j=0,N=z;j<=c;y[N]=u[N]+g*a[j],b+=m(c-j,y[N],N,l.symbol),j++,N++);}return R=new A(b).solve(),t.next=14,(0,x.tV)(r,100*Z/h);case 14:for(X=0;X<R.length;X++)R[X]instanceof d.Z?(f.push(R[X].real()),v.push(R[X].imaginary())):(f.push(R[X]),v.push(0));case 15:g+=i,Z+=i,t.next=8;break;case 18:return t.next=20,(0,x.tV)(r,100);case 20:return t.abrupt("return",[f,v]);case 21:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}(),l.controlFeedback=function(t){var n=l.multiply(t);return n.numerator().devide(n.numerator().add(n.denominator())).toTransferFunction()},l.isIntegrator=function(){return l.dot?l.copy().linkDot(null).multiply(l.dot).isIntegrator():("number"===typeof l.a||1===l.a.length&&"number"===typeof l.a[0])&&0===l.b[l.b.length-1]&&1===l.b.filter((function(t){return t instanceof d.Z?!t.isZero():t})).length&&!l.plus&&!l.previous},l.simplify=function(){var t=l.getSimplifiedRoots(),n=(0,i.Z)(t,2),r=n[0],o=n[1];return e.Shortcuts.$Roots(r,o,l.numerator().mostSignificantCoefficient(),l.denominator().mostSignificantCoefficient())},l.poles=(0,o.Z)(m),l.zeros=(0,o.Z)(f),!l.a instanceof Array&&(l.a=[l.a]),1!==l.a.length||l.w_n||3===l.b.length&&l.b[l.b.length-1]===l.a[0]&&Math.pow(l.a[0],2)===l.b[2]&&(l.w_n=l.a[0],l.zeta=l.b[1]/(2*l.w_n),l.timeConstant=(0,w.NM)(1/(l.zeta*l.w_n)),l.t_settle=4*l.timeConstant,c&&c.w_d?l.w_d=c.w_d:l.zeta>=-1&&l.zeta<=1&&(l.w_d=l.w_n*Math.pow(1-Math.pow(l.zeta,2),.5)),l.order=2,l.setRoots([],e.OmegaZetaPoles(l.w_n,l.zeta))),l.order||(l.order=a instanceof Array?a.length-1:1),c.overshoot&&c.t_rise){var z=[c.overshoot,c.t_rise];l.overshoot=z[0],l.t_rise=z[1]}else{var N=l.getDampingSystemCharasteristics();N&&(l.overshoot=N.overshoot,l.t_rise=N.t_rise)}return l.zeros&&l.zeros.length||l.poles&&l.poles.length||l.updateRoots(),l}return(0,a.Z)(e)}(m.Z);N.Shortcuts={$1:function(t,n){return new N([t],[1,n]).setRoots([],[-n]).setOrder(1)},$2:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n instanceof d.Z?n.conjugate:n,r=n instanceof v.Z?n.add(e):e instanceof v.Z?e.add(n):e+n,o=n instanceof v.Z?n.multiply(e):e instanceof v.Z?e.multiply(n):e*n;return r instanceof d.Z&&r.isReal()&&(r=r.real()),o instanceof d.Z&&o.isReal()&&(o=o.real()),new N([t],[1,r instanceof v.Z?r.negation():-r,o]).setRoots([],[n,e]).setOrder(2)},$WnZ:function(t,n){return new N(null,null,{w_n:t,zeta:n})},$design:function(t,n){return new N(null,null,{overshoot:n,t_rise:t})},$PID:function(t,n,e){return 0!==n?new N([t*n*e,t*n,t],[n,0]):new N([t*e,t],[1])},$Roots:function(t,n){for(var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=new Z.Z([e],"s"),i=new Z.Z([r],"s"),a=0;a<t.length;a++)t[a]instanceof d.Z?o=o.multiply(new Z.Z([1,t[a].negation()],"s")):(o=o.multiply(new Z.Z([1,-t[a]],"s")),t[a]=new d.Z(t[a],0));for(var u=0;u<n.length;u++)n[u]instanceof d.Z?i=i.multiply(new Z.Z([1,n[u].negation()],"s")):(i=i.multiply(new Z.Z([1,-n[u]],"s")),n[u]=new d.Z(n[u],0));return o.devide(i).toTransferFunction().setRoots(t,n)},$DelayedIntegrator:function(t,n,e){return new N(1,[1,n]).raise(e).multiply(t).toTransferFunction()}},N.ConvertToMe=function(t){return new N(t.getA(),t.getB()?t.getB():[1],{dot:N.dot,plus:N.plus,previous:N.previous,input:N.input})},N.RootOrders=function(t){t=t.sort((function(t,n){return t.real()-n.real()}));for(var n=[],e=0;e<t.length;e++){for(var r=e+1,o=1;r<t.length&&t[e].equals(t[r]);r++,o++);n.push({value:t[e],order:o}),e=r-1}return n},N.OmegaZetaPoles=function(t,n){if(Math.abs(n)>=1){var e=-n*t,r=t*Math.pow(n*n-1,.5);return[e+r,e-r]}var o=-n*t,i=t*Math.pow(1-n*n,.5);return[new d.Z(o,i),new d.Z(o,-i)]},N.PolarToComplex=function(t,n){return new d.Z(t*Math.cos(n),t*Math.sin(n))}},19596:function(t,n,e){e.d(n,{RQ:function(){return p},mc:function(){return v}});var r=e(1413),o=e(43144),i=e(15671),a=e(60136),u=e(43668),s=e(75758),l=e(381),c=e(5540),f=e(29695),p=function(t){(0,a.Z)(e,t);var n=(0,u.Z)(e);function e(t,o){var a,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"t",p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(0,i.Z)(this,e),o===+o&&o<0&&(o*=-1,t*=-1),(a=n.call(this,t,(0,r.Z)({symbol:f,type:"sin",b:o,teta:u},p))).copy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new e(a.a,a.b,a.teta,a.symbol,{dot:a.dot,plus:a.plus,previous:t?a.previous:null,input:a.input})},a.hardcopy=function(){return new e(a.a,a.b,a.teta,a.symbol,{dot:a.dot,input:a.input})},a.toExp=function(){var t=a.copy(),n=new c.Z(t.a/2,l.Z.jX(-t.b)),e=new c.Z(-t.a/2,l.Z.jX(t.b));return l.Z.jX(n.add(e))},a.valueAt=function(t){var n=s.Z.valueOf(a.a,t),e=s.Z.valueOf(a.b,t),r=s.Z.valueOf(a.teta,t);return n*Math.sin(e*t+r)},a}return(0,o.Z)(e)}(s.Z);p.ConvertToMe=function(t){return new p(t.getA(),t.getB()?t.getB():0,t.symbol,{dot:p.dot,plus:p.plus,previous:p.previous,input:p.input})};var v=function(t){(0,a.Z)(e,t);var n=(0,u.Z)(e);function e(t,o){var a,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"t",p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(0,i.Z)(this,e),+o===o&&o<0&&(o*=-1),(a=n.call(this,t,(0,r.Z)({symbol:f,type:"cos",b:o,teta:u},p))).copy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new e(a.a,a.b,a.teta,a.symbol,{dot:a.dot,plus:a.plus,previous:t?a.previous:null,input:a.input})},a.hardcopy=function(){return new e(a.a,a.b,a.teta,a.symbol,{dot:a.dot,input:a.input})},a.toExp=function(){var t=a.copy(),n=new c.Z(t.a/2,l.Z.jX(t.b)),e=new c.Z(t.a/2,l.Z.jX(-t.b));return n.add(e)},a.valueAt=function(t){var n=s.Z.valueOf(a.a,t),e=s.Z.valueOf(a.b,t),r=s.Z.valueOf(a.teta,t);return n*Math.cos(e*t+r)},a}return(0,o.Z)(e)}(s.Z);v.ConvertToMe=function(t){return new v(t.getA(),t.getB()?t.getB():0,t.symbol,{dot:v.dot,plus:v.plus,previous:v.previous,input:v.input})};var d=function(t){(0,a.Z)(e,t);var n=(0,u.Z)(e);function e(t,o){var a,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"t",v=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(0,i.Z)(this,e),(a=n.call(this,t,(0,r.Z)({symbol:p,type:"tan",b:o,teta:u},v))).copy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new e(a.a,a.b,a.teta,a.symbol,{dot:a.dot,plus:a.plus,previous:t?a.previous:null,input:a.input})},a.hardcopy=function(){return new e(a.a,a.b,a.teta,a.symbol,{dot:a.dot,input:a.input})},a.toExp=function(){var t=a.copy(),n=new c.Z(1,l.Z.jX(-t.b)),e=new c.Z(-1,l.Z.jX(t.b)),r=new c.Z(1,l.Z.jX(t.b));return new f.Z(n.add(e),n.add(r))},a.valueAt=function(t){var n=s.Z.valueOf(a.a,t),e=s.Z.valueOf(a.b,t),r=s.Z.valueOf(a.teta,t);return n*Math.tan(e*t+r)},a}return(0,o.Z)(e)}(s.Z);d.ConvertToMe=function(t){return new d(t.getA(),t.getB()?t.getB():0,t.symbol,{dot:d.dot,plus:d.plus,previous:d.previous,input:d.input})};var h=function(t){(0,a.Z)(e,t);var n=(0,u.Z)(e);function e(t,o){var a,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"t",v=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(0,i.Z)(this,e),(a=n.call(this,t,(0,r.Z)({symbol:p,type:"cot",b:o,teta:u},v))).copy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new e(a.a,a.b,a.teta,a.symbol,{dot:a.dot,plus:a.plus,previous:t?a.previous:null,input:a.input})},a.hardcopy=function(){return new e(a.a,a.b,a.teta,a.symbol,{dot:a.dot,input:a.input})},a.toExp=function(){var t=a.copy(),n=new c.Z(1,l.Z.jX(-t.b)),e=new c.Z(-1,l.Z.jX(t.b)),r=new c.Z(1,l.Z.jX(t.b));return new f.Z(n.add(r),n.add(e))},a.valueAt=function(t){var n=s.Z.valueOf(a.a,t),e=s.Z.valueOf(a.b,t),r=s.Z.valueOf(a.teta,t);return n*Math.cot(e*t+r)},a}return(0,o.Z)(e)}(s.Z);h.ConvertToMe=function(t){return new h(t.getA(),t.getB()?t.getB():0,t.symbol,{dot:h.dot,plus:h.plus,previous:h.previous,input:h.input})}}}]);
//# sourceMappingURL=695.3876ea14.chunk.js.map