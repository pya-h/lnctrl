"use strict";(self.webpackChunklnctrl=self.webpackChunklnctrl||[]).push([[883],{52378:function(e,n,t){var r=t(70885),i=t(16346),a=t(91720),s=t(27247),c=t(85029),l=t(63787),o=t(61889),d=t(13400),u=t(53767),h=t(82550),x=t(64802),m=t(72791),Z=t(25498),p=t.n(Z),g=t(24250),j=t(37185),$=t(80184);n.Z=function(e){var n=e.capture,t=e.graphFileName,Z=e.formulaFileName,f=e.reset,P=e.update,w=e.toggle3DPlot,y=(0,m.useState)(!1),v=(0,r.Z)(y,2),k=v[0],S=v[1],_=(0,m.useState)(20),b=(0,r.Z)(_,2),T=b[0],N=b[1];return(0,m.useEffect)((function(){P({thickness:T/20+.1})}),[T,P]),(0,$.jsxs)(o.ZP,{sx:{direction:"rtl"},container:!0,direction:"row",children:[(0,$.jsxs)(o.ZP,{md:10,sm:8,xs:6,sx:{direction:"rtl"},item:!0,children:[w&&(0,$.jsx)(d.Z,{color:"secondary","aria-label":"capture graph",component:"span",onClick:function(){S(!k),w()},children:k?(0,$.jsx)(j.Z,{}):(0,$.jsx)(g.Z,{})})," ",(0,$.jsx)(d.Z,{color:"secondary","aria-label":"capture graph",component:"span",onClick:n,children:(0,$.jsx)(a.Z,{})}),(0,$.jsx)(d.Z,{color:"secondary","aria-label":"download graph",component:"span",onClick:function(){var e=document.getElementById("graphBox"),n=document.createElement("canvas");n.width=e.width,n.height=e.height;var r=n.getContext("2d");r.fillStyle="white",r.fillRect(0,0,e.width,e.height),r.drawImage(e,0,0),n.toBlob((function(e){(0,x.saveAs)(e,t)})),p()(document.getElementById("formulaBox")).then((function(e){e.toBlob((function(e){(0,x.saveAs)(e,Z)}))}))},children:(0,$.jsx)(i.Z,{})}),(0,$.jsx)(d.Z,{color:"secondary","aria-label":"capture graph",component:"span",onClick:f,children:(0,$.jsx)(s.Z,{})})]}),(0,$.jsx)(o.ZP,{md:2,sm:4,xs:6,item:!0,children:(0,$.jsxs)(u.Z,{spacing:2,direction:"row",sx:{mt:.5,direction:"ltr"},alignItems:"center",children:[(0,$.jsx)(c.Z,{}),(0,$.jsx)(h.ZP,{"aria-label":"Volume",value:T,onChange:function(e,n){return N(n)}}),(0,$.jsx)(l.Z,{})]})})]})}},2883:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r=t(1413),i=t(15861),a=t(42982),s=t(70885),c=t(87757),l=t.n(c),o=t(71598),d=t(30830),u=t(72791),h=t(52378),x=t(61889),m=t(94447),Z=t(65773),p=t(36151),g=t(49877),j=t(93554),$=t(91923),f=t(89750),P=t(80184),w=["$$Num = [$$","$$Den = [$$","$$\\omega_{min} = $$","$$\\omega_{max} = $$","$$N = $$"],y=["$$]$$","$$]$$","$$Hz$$","$$Hz$$",null],v=function(e){var n=e.rawNumerator,t=e.rawDenominator,r=e.$rawNumerator,i=e.$rawDenominator,a=e.w_min,s=e.w_max,c=e.$w_min,l=e.$w_max,d=e.phaseInRadianScale,u=e.setPhaseInRadianScale,h=e.N,m=e.$N,v=e.multiplier;return(0,P.jsxs)(o.Z,{darkBorder:!0,title:"\u067e\u0627\u0631\u0627\u0645\u062a\u0631\u0647\u0627",sx:{direction:"ltr",textAlign:"right",height:"100%"},children:[(0,P.jsxs)(x.ZP,{spacing:$.dv,container:!0,direction:"row",children:[(0,P.jsx)(j.Z,{parameters:[n,t,a,s,h],setters:[r,i,c,l,m],labels:w,units:y}),(0,P.jsxs)(x.ZP,{xs:12,style:{paddingLeft:"3%"},container:!0,children:[(0,P.jsx)(x.ZP,{xs:6,sx:{p:1},item:!0,children:(0,P.jsx)(p.Z,{onClick:function(){return u(!1)},style:{width:"100%",textTransform:"none"},variant:d?"outlined":"contained",children:"\u062f\u0631\u062c\u0647"})}),(0,P.jsx)(x.ZP,{xs:6,sx:{p:1},item:!0,children:(0,P.jsx)(p.Z,{onClick:function(){return u("rad")},style:{width:"100%",textTransform:"none"},variant:d?"contained":"outlined",children:"\u0631\u0627\u062f\u06cc\u0627\u0646"})})]})]}),(0,P.jsx)("hr",{}),(0,P.jsxs)(x.ZP,{xs:12,sx:{pt:$.dv},spacing:$.dv,style:{textAlign:"center"},container:!0,children:[(0,P.jsx)(x.ZP,{xs:12,item:!0,children:"\u062a\u0627\u062b\u06cc\u0631 \u0636\u0631\u0628 \u0627\u0633\u06a9\u0627\u0644\u0631 \u0633\u06cc\u0633\u062a\u0645 \u062f\u0631 \u0646\u0645\u0648\u062f\u0627\u0631 \u0628\u0648\u062f"}),(0,P.jsx)(x.ZP,{xs:4,item:!0,children:(0,P.jsx)(g.Z,{size:"large",variant:"circular",onClick:function(){return v(.1)},children:(0,P.jsx)(f.Z,{type:"scale",direction:"down",children:(0,P.jsx)(Z.Z,{children:"$$\\times\\frac{1}{10}$$"})})})}),(0,P.jsx)(x.ZP,{xs:4,item:!0,children:(0,P.jsx)(g.Z,{size:"large",variant:"circular",onClick:function(){return v(10)},children:(0,P.jsx)(f.Z,{type:"scale",direction:"down",children:(0,P.jsx)(Z.Z,{children:"$$\\times 10$$"})})})}),(0,P.jsx)(x.ZP,{xs:4,item:!0,children:(0,P.jsx)(g.Z,{size:"large",variant:"circular",onClick:function(){return v(-1)},children:(0,P.jsx)(f.Z,{type:"scale",direction:"down",children:(0,P.jsx)(Z.Z,{children:"$$\\lgroup - \\rgroup$$"})})})})]})]})},k=t(64715),S=t(78793),_=t(5913),b="jw",T="H",N=function(){var e=(0,u.useState)("1"),n=(0,s.Z)(e,2),t=n[0],c=n[1],p=(0,u.useState)("1 1"),g=(0,s.Z)(p,2),j=g[0],f=g[1],w=(0,u.useState)(null),y=(0,s.Z)(w,2),N=y[0],C=y[1],H=(0,u.useState)(0),A=(0,s.Z)(H,2),D=A[0],I=A[1],B=(0,u.useState)(10),E=(0,s.Z)(B,2),z=E[0],R=E[1],q=(0,u.useState)([]),F=(0,s.Z)(q,2),L=F[0],X=F[1],M=(0,u.useState)({phase:[],amplitude:[],degreePhase:[]}),V=(0,s.Z)(M,2),W=V[0],G=V[1],J=(0,u.useState)(null),K=(0,s.Z)(J,2),O=K[0],Q=K[1],U=(0,u.useState)(1),Y=(0,s.Z)(U,2),ee=Y[0],ne=Y[1],te=(0,u.useState)(!1),re=(0,s.Z)(te,2),ie=re[0],ae=re[1],se=(0,u.useState)(!1),ce=(0,s.Z)(se,2),le=ce[0],oe=ce[1],de=(0,u.useState)(!0),ue=(0,s.Z)(de,2),he=ue[0],xe=ue[1],me=(0,u.useState)(1e3),Ze=(0,s.Z)(me,2),pe=Ze[0],ge=Ze[1],je=function(){var e=(0,a.Z)(L);-1===e.findIndex((function(e){return N.equals(e.H)}))&&(e.push({H_s:N,thickness:ee,legend:T+"_{"+(L.length+1).toString()+"}"}),X(e),ae(!0))};(0,u.useEffect)((function(){N&&(0,i.Z)(l().mark((function e(){var n,t,i,a,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,Q("$$"+N.label("H")+"$$"),n=!1,t={amplitude:Array(L.length),phase:Array(L.length),degreePhase:Array(L.length)},i=0;case 5:if(!(i<L.length)){e.next=17;break}if(i%5!==0){e.next=9;break}return e.next=9,(0,_.M0)();case 9:t.amplitude[i]=d.ZP.systemToTrace(L[i].H_s.bode,+D,+z,L[i].thickness,L[i].legend,le,pe),t.phase[i]=d.ZP.systemToTrace(L[i].H_s.phase,+D,+z,L[i].thickness,L[i].legend,le,pe),t.degreePhase[i]=(0,r.Z)({},t.phase[i]),t.degreePhase[i].y=t.degreePhase[i].y.map((function(e){return e*d.ZP.RadianToDegree})),N.equals(L[i].H_s)&&(n=!0);case 14:i++,e.next=5;break;case 17:n||(a=d.ZP.systemToTrace(N.bode,+D,+z,ee,"".concat(T,"(").concat(b,")"),le,pe),s=d.ZP.systemToTrace(N.phase,+D,+z,ee,"".concat(T,"(").concat(b,")"),le,pe),(c=(0,r.Z)({},s)).y=c.y.map((function(e){return e*d.ZP.RadianToDegree})),t.phase.push(s),t.degreePhase.push(c),t.amplitude.push(a)),G(t),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})))()}),[N,L,D,z,le,ee,pe]);(0,u.useEffect)((function(){try{var e=d.ZP.stringToArray(t),n=d.ZP.stringToArray(j),r=new k.Z(e,n);C(r)}catch(i){console.log(i)}}),[t,j]),(0,u.useEffect)((function(){ae(!1)}),[t,j]);return(0,P.jsxs)(S.Z,{children:[(0,P.jsx)(x.ZP,{item:!0,spacing:$.dv,children:(0,P.jsx)("h2",{className:"chapter-section-title",children:"\u0646\u0645\u0648\u062f\u0627\u0631 \u0628\u0648\u062f"})}),(0,P.jsx)(x.ZP,{item:!0,spacing:$.dv,children:(0,P.jsxs)(x.ZP,{container:!0,direction:"column",spacing:1,children:[(0,P.jsx)(x.ZP,{sx:{margin:"auto",width:"100%"},item:!0,children:(0,P.jsx)(o.Z,{sx:{direction:"ltr"},children:(0,P.jsxs)(x.ZP,{id:"formulaBox",sx:{margin:"auto"},container:!0,direction:"row",children:[L.map((function(e,n){var t="$$"+e.H_s.label("H",n+1)+"$$";return(0,P.jsx)(x.ZP,{style:{fontSize:"18px"},md:6,sm:12,item:!0,children:(0,P.jsx)(Z.Z,{children:t})})})),!ie&&(0,P.jsx)(x.ZP,{style:{fontSize:"18px"},md:6,sm:12,children:(0,P.jsx)(Z.Z,{children:O})})]})})}),(0,P.jsxs)(x.ZP,{spacing:2,style:{width:"100%",height:"100%",margin:"auto",direction:"ltr"},container:!0,children:[(0,P.jsx)(x.ZP,{md:3,sm:12,xs:12,sx:{marginTop:"1%",width:"100%"},container:!0,children:(0,P.jsx)(x.ZP,{xs:12,children:(0,P.jsx)(v,{rawNumerator:t,rawDenominator:j,$rawNumerator:c,$rawDenominator:f,w_min:D,w_max:z,$w_min:I,$w_max:R,phaseInRadianScale:he,setPhaseInRadianScale:xe,N:pe,$N:ge,multiplier:function(e){var n=L.length,t=N.multiply(e),r=L.filter((function(e){return!e.H_s.equals(t)}));r.length===n?je():X(r),C(t)}})})}),(0,P.jsxs)(x.ZP,{md:9,sm:12,xs:12,item:!0,children:[(0,P.jsx)(o.Z,{children:(0,P.jsx)(h.Z,{capture:je,formulaFileName:"Water Tank Level Equations _ "+(0,a.Z)(L.map((function(e){return e.legend}))).join()+".png",graphFileName:(0,a.Z)(L.map((function(e){return"".concat(e.legend,"{alpha=").concat(e.a,"_k=").concat(e.k,"_in=").concat(e.inputSignal?"ramp":"step","}")}))).join(", ")+".png",reset:function(){return X([])},update:function(e){return function(e){e&&ne(e.thickness)}(e)},toggle3DPlot:function(){return oe(!le)}})}),(0,P.jsx)("hr",{}),(0,P.jsx)(x.ZP,{lg:12,md:12,sm:12,xs:12,item:!0,children:(0,P.jsxs)(o.Z,{children:[(0,P.jsx)(x.ZP,{lg:9,md:9,sm:12,xs:12,item:!0,children:(0,P.jsx)(m.Z,{logX:!0,title:"\u0646\u0645\u0648\u062f\u0627\u0631 \u0628\u0648\u062f",traces:W.amplitude})}),(0,P.jsx)(x.ZP,{lg:9,md:9,sm:12,xs:12,item:!0,children:(0,P.jsx)(m.Z,{title:"\u0641\u0627\u0632",logX:!0,traces:he?W.phase:W.degreePhase})})]})})]})]})]})})]})}}}]);
//# sourceMappingURL=883.b9c6dd49.chunk.js.map